# 🌥️ ImgBB 클라우드 스토리지 연동 가이드

## 📖 개요

ImgBB는 **무료**로 **무제한** 이미지를 업로드할 수 있는 클라우드 스토리지 서비스입니다.

### 이전 방식 (Base64) vs ImgBB

| 구분 | Base64 (이전) | ImgBB (현재) |
|------|---------------|--------------|
| 파일 크기 제한 | 5MB | 32MB |
| 저장 용량 | 데이터베이스에 저장 | 무제한 클라우드 |
| 로딩 속도 | 느림 (큰 파일) | 빠름 (CDN) |
| 비용 | 무료 | 무료 |
| 설정 | 불필요 | API 키 필요 |

## 🔑 1단계: ImgBB API 키 발급

### 1. ImgBB 계정 생성

1. [ImgBB 웹사이트](https://imgbb.com/) 접속
2. 우측 상단 **"Sign Up"** 클릭
3. 계정 정보 입력:
   - Email 주소
   - 사용자 이름
   - 비밀번호
4. 이메일 인증 완료

### 2. API 키 발급

1. 로그인 후 [ImgBB API 페이지](https://api.imgbb.com/) 접속
2. 또는 [직접 링크](https://imgbb.com/api)로 이동
3. 페이지 중간의 **"Get API Key"** 버튼 클릭
4. API 이름 입력 (예: `증산도노서도장`)
5. **"Get API key"** 버튼 클릭
6. **API Key 복사** (나중에 사용)
   - 형식: `xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx` (32자리)

⚠️ **중요**: API 키는 안전하게 보관하세요!

## 🔧 2단계: 프로젝트에 API 키 설정

### 방법 1: `js/main.js` 파일 수정 (권장)

1. `js/main.js` 파일 열기
2. 파일 상단 부근에서 다음 코드 찾기:

```javascript
// ImgBB API 설정
const IMGBB_API_KEY = 'YOUR_IMGBB_API_KEY_HERE'; // ← 여기에 발급받은 API 키 입력
```

3. `YOUR_IMGBB_API_KEY_HERE`를 실제 API 키로 교체

**수정 예시:**
```javascript
const IMGBB_API_KEY = 'a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6';
```

4. 파일 저장

### 방법 2: 브라우저 Console에서 테스트

개발자 도구(F12) > Console 탭에서:
```javascript
localStorage.setItem('imgbb_api_key', 'YOUR_API_KEY_HERE');
```

## ✅ 3단계: 작동 확인

### 테스트 방법

1. 웹사이트 접속
2. 게시글 작성 화면으로 이동
3. "이미지 선택하기" 버튼 클릭
4. 이미지 파일 선택
5. **업로드 진행 상태 확인**:
   - "업로드 중..." 메시지 표시
   - 프로그레스 바 (선택사항)
6. **업로드 완료**:
   - "업로드 완료!" 메시지
   - 이미지 미리보기 표시
   - ImgBB URL 자동 저장

### 성공 시 표시되는 것

- ✅ 이미지 미리보기
- ✅ ImgBB에서 제공한 URL
- ✅ 빠른 로딩 속도
- ✅ 영구적으로 호스팅

## 🎯 사용 방법

### 일반 사용자 (게시글 작성)

1. **글쓰기 버튼** 클릭
2. **이미지 업로드 섹션**에서:
   - "이미지 선택하기" 버튼 클릭
   - 파일 선택 (최대 32MB)
   - 자동으로 ImgBB에 업로드
   - 미리보기 확인
3. **게시하기** 클릭

### 관리자 설정

API 키는 한 번만 설정하면 됩니다:
- 모든 사용자가 자동으로 ImgBB 사용
- 별도 설정 불필요
- 무제한 업로드

## 📊 ImgBB 기능 및 제한

### 무료 플랜 기능

| 항목 | 제한 |
|------|------|
| 업로드 용량 | 무제한 |
| 파일 크기 | 최대 32MB |
| 이미지 형식 | JPG, PNG, BMP, GIF, WebP, HEIC |
| 저장 기간 | 영구 보관 |
| CDN | 포함 |
| 대역폭 | 무제한 |
| API 요청 | 5,000회/시간 (충분함) |

### 지원하는 이미지 형식

- ✅ **JPG / JPEG**: 사진
- ✅ **PNG**: 그래픽, 투명 배경
- ✅ **GIF**: 애니메이션
- ✅ **BMP**: 비트맵
- ✅ **WebP**: 최신 포맷
- ✅ **HEIC**: iPhone 사진

### API 요청 제한

- **5,000회/시간**: 일반적인 사용에 충분
- **초과 시**: 1시간 후 자동 복구
- **모니터링**: [ImgBB Dashboard](https://imgbb.com/api)

## 🔄 Base64 vs ImgBB 비교

### Base64 방식 (이전)

**장점:**
- 설정 불필요
- 즉시 사용 가능

**단점:**
- 파일 크기 제한 (5MB)
- 데이터베이스 용량 증가
- 로딩 속도 느림
- Base64 인코딩으로 33% 크기 증가

### ImgBB 방식 (현재)

**장점:**
- 무제한 저장 공간
- 대용량 파일 지원 (32MB)
- CDN으로 빠른 로딩
- 데이터베이스 용량 절약
- 영구 보관

**단점:**
- API 키 설정 필요 (1회)
- 외부 서비스 의존

## 🛠️ 고급 설정

### 1. 업로드 옵션 커스터마이징

`js/main.js` 파일에서 다음 설정 변경 가능:

```javascript
// 업로드 옵션
const IMGBB_UPLOAD_OPTIONS = {
    expiration: null,  // null = 영구 보관, 숫자 = 초 단위 (예: 3600 = 1시간)
    name: null,        // 이미지 이름 (null = 자동 생성)
};
```

### 2. 업로드 진행 상태 표시

업로드 중 사용자에게 피드백 제공:
- 로딩 스피너
- 프로그레스 바
- 퍼센트 표시

### 3. 에러 처리

다음 상황에서 자동으로 Base64 방식으로 전환:
- API 키 없음
- 네트워크 오류
- API 요청 제한 초과
- ImgBB 서버 오류

## 🚨 문제 해결

### 1. "API 키가 설정되지 않았습니다"

**원인:** ImgBB API 키가 설정되지 않음

**해결방법:**
1. `js/main.js` 파일 확인
2. `IMGBB_API_KEY` 값이 올바른지 확인
3. API 키에 공백이나 따옴표가 잘못 들어갔는지 확인

### 2. "이미지 업로드 실패"

**원인:** 네트워크 오류 또는 파일 문제

**해결방법:**
1. 인터넷 연결 확인
2. 파일 크기 확인 (32MB 이하)
3. 파일 형식 확인 (JPG, PNG 등)
4. 다른 이미지로 시도
5. 브라우저 개발자 도구(F12) > Console에서 오류 확인

### 3. "API 요청 제한 초과"

**원인:** 1시간에 5,000회 이상 업로드 시도

**해결방법:**
1. 1시간 대기 (자동 복구)
2. 또는 Base64 방식으로 자동 전환됨

### 4. 업로드는 되는데 이미지가 안 보임

**원인:** ImgBB URL이 차단되었거나 잘못됨

**해결방법:**
1. ImgBB 웹사이트에서 이미지 확인
2. 브라우저 캐시 삭제
3. 다른 브라우저에서 시도

### 5. "CORS 오류"

**원인:** 브라우저 보안 정책

**해결방법:**
- ImgBB는 CORS를 지원하므로 정상적으로 작동해야 함
- 문제가 지속되면 브라우저 확장 프로그램 비활성화

## 📈 ImgBB 사용량 모니터링

### Dashboard 확인

1. [ImgBB Dashboard](https://imgbb.com/api) 접속
2. API 사용량 확인:
   - 총 업로드 수
   - 시간당 요청 수
   - 저장 용량

### API 키 관리

- **재발급**: 기존 키가 노출된 경우
- **삭제**: 사용하지 않는 키 제거
- **여러 키**: 다른 프로젝트용 별도 키

## 🔐 보안 권장사항

### API 키 보호

1. **공개 저장소 주의**:
   - GitHub 등에 업로드 시 API 키 노출 주의
   - `.gitignore`에 설정 파일 추가
   - 환경 변수 사용 권장

2. **정기적 확인**:
   - API 사용량 모니터링
   - 이상 활동 감지

3. **키 재발급**:
   - 노출 의심 시 즉시 재발급
   - 기존 키 삭제

### 권장 사항

```javascript
// ❌ 나쁜 예 (공개 저장소에 노출)
const IMGBB_API_KEY = 'a1b2c3d4e5f6g7h8i9j0';

// ✅ 좋은 예 (환경 변수 사용)
const IMGBB_API_KEY = process.env.IMGBB_API_KEY || 'YOUR_KEY_HERE';
```

## 🎓 추가 정보

### ImgBB 공식 문서

- [API 문서](https://api.imgbb.com/)
- [FAQ](https://imgbb.com/faq)
- [지원](https://imgbb.com/contact)

### API 엔드포인트

```
POST https://api.imgbb.com/1/upload
```

### 응답 예시

```json
{
  "data": {
    "id": "2ndCYJK",
    "title": "example",
    "url": "https://i.ibb.co/2ndCYJK/example.jpg",
    "display_url": "https://i.ibb.co/2ndCYJK/example.jpg",
    "size": 123456
  },
  "success": true,
  "status": 200
}
```

## 🌟 장점 요약

### 사용자 입장

- ✅ 빠른 이미지 로딩
- ✅ 대용량 파일 업로드 가능
- ✅ 안정적인 이미지 호스팅
- ✅ 영구 보관

### 관리자 입장

- ✅ 무료 무제한 저장
- ✅ 데이터베이스 용량 절약
- ✅ CDN으로 트래픽 절감
- ✅ 간단한 설정

## 📞 도움이 필요하신가요?

- 🌐 **ImgBB 지원**: https://imgbb.com/contact
- 📧 **도장 문의**: 054-742-1691
- 📍 **방문**: 경북 경주시 금성로 271, 3층

---

ImgBB를 활용하여 무제한으로 이미지를 업로드하세요! 🌥️✨
